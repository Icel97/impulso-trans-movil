<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button></ion-back-button>
    </ion-buttons>
    <ion-title>Login</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <form class="ion-text-center" (ngSubmit)="login()" [formGroup]="loginForm">
    <ion-list>
      <ion-item class="ion-margin input-item pt-2">
        <ion-input 
          label="Correo electrónico"
          labelPlacement="floating"
          formControlName="email"
          placeholder="Ingresa tu email"
          type="email"
          required>
        </ion-input>
      </ion-item>
      <ion-note color="danger" class="ion-no-padding ion-no-margin" *ngIf="loginForm.get('email')?.invalid && (loginForm.get('email')?.dirty || loginForm.get('email')?.touched)">
        Email invalido
      </ion-note>
  
      <!-- Contraseña -->
      <ion-item class="ion-margin input-item pt-1">
        <ion-input 
          label="Contraseña"
          labelPlacement="floating"
          placeholder="Ingresa tu contraseña"
          formControlName="password"
          [type]="showPassword ? 'text' : 'password'" 
          required>
        </ion-input>
        <ion-button fill="clear" slot="end" aria-label="Mostrar/ocultar" color="dark" (click)="togglePasswordVisibility()">
          <ion-icon [name]="showPassword ? 'eye-off' : 'eye'" slot="icon-only"></ion-icon>
        </ion-button>
      </ion-item>
      <ion-note color="danger" class="ion-no-padding ion-no-margin" *ngIf="loginForm.get('password')?.invalid && (loginForm.get('password')?.dirty || loginForm.get('password')?.touched)">
        La contraseña es requerida
      </ion-note>
    </ion-list>

    <ion-button 
      shape="round"
      color="primary" 
      type="submit"
      class="pt-4"
    >Iniciar sesión</ion-button>

    <ion-item lines="none" class="ion-text-center">
      <ion-label><p>o ingresa con:</p></ion-label>
    </ion-item>

    <ion-button shape="round" color="secondary">
      <ion-icon slot="icon-only" name="finger-print-outline"></ion-icon>
    </ion-button>

    <ion-item lines="none" class="ion-text-center pt-2">
      <ion-label>
        <p>No tienes cuenta?</p>
        <ion-router-link routerLink="/register">Regístrate!</ion-router-link>
      </ion-label>
    </ion-item>
  </form>
</ion-content>
